# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`autofs`](#autofs): This class provides for the configuration of ``autofs``
* [`autofs::config::pki`](#autofsconfigpki): This class controls all pki related articles for autofs
* [`autofs::install`](#autofsinstall): **NOTE: THIS IS A [PRIVATE](https://github.com/puppetlabs/puppetlabs-stdlib#assert_private) CLASS**  This class provides for the installation
* [`autofs::ldap_auth`](#autofsldap_auth): Set up the ``autofs_ldap_auth.conf`` file
* [`autofs::service`](#autofsservice): **NOTE: THIS IS A [PRIVATE](https://github.com/puppetlabs/puppetlabs-stdlib#assert_private) CLASS**  This class provides for the installation

**Defined types**

* [`autofs::map::entry`](#autofsmapentry): Add an entry to the map specified in ``$name``  The map file will be created as ``/etc/autofs/$target.map``.  You will need to create an appr
* [`autofs::map::master`](#autofsmapmaster): Add an entry to the ``/etc/auto.master`` map  If you're using the ``autofs::map::entry`` define, remember that the ``$target`` variable trans

**Data types**

* [`Autofs::Authtype`](#autofsauthtype): 
* [`Autofs::Maptype`](#autofsmaptype): 

## Classes

### autofs

This class provides for the configuration of ``autofs``

* **See also**
auto.master(5)
automount(8)

#### Parameters

The following parameters are available in the `autofs` class.

##### `master_map_name`

Data type: `String`

The default map name for the master map

Default value: 'auto.master'

##### `mount_timeout`

Data type: `Integer`

See: auto.master(5) -> GENERAL SYSTEM DEFAULTS CONFIGURATION -> TIMEOUT

Default value: 600

##### `negative_timeout`

Data type: `Integer`

See: auto.master(5) -> GENERAL SYSTEM DEFAULTS CONFIGURATION -> NEGATIVE_TIMEOUT

Default value: 60

##### `mount_wait`

Data type: `Optional[Integer]`

Type: Integer
See: auto.master(5) -> GENERAL SYSTEM DEFAULTS CONFIGURATION -> MOUNT_WAIT

Default value: `undef`

##### `umount_wait`

Data type: `Optional[Integer]`

See: auto.master(5) -> GENERAL SYSTEM DEFAULTS CONFIGURATION -> MOUNT_WAIT

Default value: `undef`

##### `browse_mode`

Data type: `Boolean`

See: auto.master(5) -> GENERAL SYSTEM DEFAULTS CONFIGURATION -> BROWSE_MODE

Default value: `false`

##### `append_options`

Data type: `Boolean`

Type: [yes|no]
See: auto.master(5) -> GENERAL SYSTEM DEFAULTS CONFIGURATION -> APPEND_OPTIONS

Default value: `true`

##### `logging`

Data type: `Enum['none','verbose','debug']`

Type: [none|verbose|debug]
See: auto.master(5) -> GENERAL SYSTEM DEFAULTS CONFIGURATION -> LOGGING

Default value: 'none'

##### `ldap_uri`

Data type: `Optional[Simplib::Uri]`

See: auto.master(5) -> LDAP MAPS -> LDAP_TIMEOUT

Default value: `undef`

##### `ldap_timeout`

Data type: `Optional[Integer]`

See: auto.master(5) -> LDAP MAPS -> LDAP_TIMEOUT

Default value: `undef`

##### `ldap_network_timeout`

Data type: `Optional[Integer]`

See: auto.master(5) -> LDAP MAPS -> LDAP_NETWORK_TIMEOUT

Default value: `undef`

##### `search_base`

Data type: `Optional[String]`

See: auto.master(5) -> LDAP MAPS -> SEARCH_BASE

Default value: `undef`

##### `map_object_class`

Data type: `Optional[String]`

See: auto.master(5) -> LDAP MAPS -> MAP_OBJECT_CLASS

Default value: `undef`

##### `entry_object_class`

Data type: `Optional[String]`

See: auto.master(5) -> LDAP MAPS -> ENTRY_OBJECT_CLASS

Default value: `undef`

##### `map_attribute`

Data type: `Optional[String]`

See: auto.master(5) -> LDAP MAPS -> MAP_ATTRIBUTE

Default value: `undef`

##### `entry_attribute`

Data type: `Optional[String]`

See: auto.master(5) -> LDAP MAPS -> ENTRY_ATTRIBUTE

Default value: `undef`

##### `value_attribute`

Data type: `Optional[String]`

See: auto.master(5) -> LDAP MAPS -> VALUE_ATTRIBUTE

Default value: `undef`

##### `map_hash_table_size`

Data type: `Optional[Integer]`

Set the map cache hash table size

* Should be a power of 2 with a ratio roughly between 1:10 and 1:20 for
  each map

Default value: `undef`

##### `use_misc_device`

Data type: `Boolean`

If the kernel supports using the autofs miscellanous device, and you wish
to use it, you must set this configuration option to ``yes`` otherwise it
will not be used

Default value: `true`

##### `options`

Data type: `Optional[String]`

Options to append to the automount application at start time

* See ``automount(8)`` for details

Default value: `undef`

##### `samba_package_ensure`

Data type: `String`

The value to pass to the `ensure` parameter of the `samba-utils` package.
Defaults to `simp_options::package_ensure` or `installed`

Default value: simplib::lookup('simp_options::package_ensure', { 'default_value' => 'installed' })

##### `autofs_package_ensure`

Data type: `String`

The value to pass to the `ensure` parameter of the `autofs` package.
Defaults to `simp_options::package_ensure` or `installed`

Default value: simplib::lookup('simp_options::package_ensure', { 'default_value' => 'installed' })

##### `ldap`

Data type: `Boolean`

Enable LDAP lookups

Default value: simplib::lookup('simp_options::ldap', { 'default_value' => false })

##### `pki`

Data type: `Variant[Enum['simp'],Boolean]`

* If 'simp', include SIMP's pki module and use pki::copy to manage
  application certs in /etc/pki/simp_apps/autofs/x509
* If true, do *not* include SIMP's pki module, but still use pki::copy
  to manage certs in /etc/pki/simp_apps/autofs/x509
* If false, do not include SIMP's pki module and do not use pki::copy
  to manage certs.  You will need to appropriately assign a subset of:
  * app_pki_dir
  * app_pki_key
  * app_pki_cert
  * app_pki_ca
  * app_pki_ca_dir

Default value: simplib::lookup('simp_options::pki', { 'default_value' => false })

### autofs::config::pki

This class controls all pki related articles for autofs

#### Parameters

The following parameters are available in the `autofs::config::pki` class.

##### `pki`

* If 'simp', include SIMP's pki module and use pki::copy to manage
  application certs in /etc/pki/simp_apps/autofs/x509
* If true, do *not* include SIMP's pki module, but still use pki::copy
  to manage certs in /etc/pki/simp_apps/autofs/x509
* If false, do not include SIMP's pki module and do not use pki::copy
  to manage certs.  You will need to appropriately assign a subset of:
  * app_pki_dir
  * app_pki_key
  * app_pki_cert
  * app_pki_ca
  * app_pki_ca_dir

##### `app_pki_external_source`

Data type: `String`

* If pki = 'simp' or true, this is the directory from which certs will be
  copied, via pki::copy.  Defaults to /etc/pki/simp/x509.

* If pki = false, this variable has no effect.

Default value: simplib::lookup('simp_options::pki::source', { 'default_value' => '/etc/pki/simp/x509' })

##### `app_pki_dir`

Data type: `Stdlib::Absolutepath`

This variable controls the basepath of $app_pki_key, $app_pki_cert,
$app_pki_ca, $app_pki_ca_dir, and $app_pki_crl.
It defaults to /etc/pki/simp_apps/autofs/x509.

Default value: '/etc/pki/simp_apps/autofs/x509'

##### `app_pki_key`

Data type: `Stdlib::Absolutepath`

Path and name of the private SSL key file

Default value: "${app_pki_dir}/private/${::fqdn}.pem"

##### `app_pki_cert`

Data type: `Stdlib::Absolutepath`

Path and name of the public SSL certificate

Default value: "${app_pki_dir}/public/${::fqdn}.pub"

### autofs::install

**NOTE: THIS IS A [PRIVATE](https://github.com/puppetlabs/puppetlabs-stdlib#assert_private) CLASS**

This class provides for the installation of autofs

### autofs::ldap_auth

Set up the ``autofs_ldap_auth.conf`` file

#### Parameters

The following parameters are available in the `autofs::ldap_auth` class.

##### `ldap_auth_conf_file`

Data type: `Stdlib::Absolutepath`

Set the default location for the LDAP authentication configuration file

Default value: '/etc/autofs_ldap_auth.conf'

##### `usetls`

Data type: `Boolean`

Determines whether an encrypted connection to the ldap server should be
attempted

Default value: `true`

##### `tlsrequired`

Data type: `Boolean`

Encrypt the LDAP connection

* If set to ``yes``, the automounter will fail to start if an encrypted
  connection cannot be established

Default value: `true`

##### `authrequired`

Data type: `Variant[Boolean, Enum['autodetect','simple']]`

This option tells whether an authenticated connection to the ldap
server is required in order to perform ldap queries

* If this flag is set to ``yes``, then only authenticated connections will
  be allowed
* If it is set to ``no`` then authentication is not needed for ldap server
  connections
* If it is set to ``autodetect`` then the ldap server will be queried to
  establish a suitable authentication mechanism
* If no suitable mechanism can be found, connections to the ldap server are
  made without authentication

Default value: `true`

##### `authtype`

Data type: `Autofs::Authtype`

This attribute can be used to specify a preferred authentication mechanism

* In normal operations, the automounter will attempt to authenticate to the
ldap server using the list of ``supportedSASLmechanisms`` obtained from the
directory server
* Explicitly setting the authtype will bypass this selection and only try
the mechanism specified
* The ``EXTERNAL`` mechanism may be used to authenticate using a client
  certificate and requires that authrequired set to ``yes`` if using SSL or
  ``usetls``, ``tlsrequired`` and ``authrequired`` all set to ``yes`` if
  using TLS, in addition to ``authtype`` being set ``EXTERNAL``

Default value: 'LOGIN'

##### `external_cert`

Data type: `Stdlib::Absolutepath`

This specifies the path of the file containing the client certificate.
Set ::autofs::pki to false if you don't want SIMP to manage this cert.

Default value: "/etc/pki/simp_apps/autofs/x509/public/${facts['fqdn']}.pub"

##### `external_key`

Data type: `Stdlib::Absolutepath`

This specifies the path of the file containing the client certificate key
Set ::autofs::pki to false if you don't want SIMP to manage this key.

Default value: "/etc/pki/simp_apps/autofs/x509/private/${facts['fqdn']}.pem"

##### `user`

Data type: `Optional[String]`

This attribute holds the authentication identity used by authentication
mechanisms that require it

* Legal values for this attribute include any printable characters that can
  be used by the selected authentication mechanism

Default value: simplib::lookup('simp_options::ldap::bind_dn', { 'default_value' => undef })

##### `secret`

Data type: `Optional[String]`

This attribute holds the secret used by authentication mechanisms that
require it

* Legal values for this attribute include any printable characters that can
  be used by the selected authentication mechanism

Default value: simplib::lookup('simp_options::ldap::bind_pw', { 'default_value' =>  undef})

##### `clientprinc`

Data type: `Optional[String]`

When using ``GSSAPI`` authentication, this attribute is consulted to
determine the principal name to use when authenticating to the directory
server

Default value: `undef`

##### `credentialcache`

Data type: `Optional[Stdlib::Absolutepath]`

When using ``GSSAPI`` authentication, this attribute can be used to specify
an externally configured credential cache that is used during
authentication

Default value: `undef`

### autofs::service

**NOTE: THIS IS A [PRIVATE](https://github.com/puppetlabs/puppetlabs-stdlib#assert_private) CLASS**

This class provides for the installation of autofs

## Defined types

### autofs::map::entry

Add an entry to the map specified in ``$name``

The map file will be created as ``/etc/autofs/$target.map``.

You will need to create an appropriate ``map::master`` entry for this to be
activated.

* **See also**
autofs(5)

#### Parameters

The following parameters are available in the `autofs::map::entry` defined type.

##### `name`

In this case, ``$name`` is mapped to the ``key`` entry as described in
``autofs(5)``

* The special wildcard entry ``*`` is specified by entering the name as
  ``wildcard-<anything_unique>``

##### `target`

Data type: `Optional[String]`

The name (**not the full path**) of the map file under which you would like
this entry placed

* Required unless ``$content`` is set

Default value: `undef`

##### `location`

Data type: `Optional[String]`

The location that should be mounted

* Required unless ``$content`` is set
* This should be the full path on the remote server
    * Example: ``1.2.3.4:/my/files``
* See ``autofs(5)`` for details

Default value: `undef`

##### `options`

Data type: `Optional[String]`

The NFS ``options`` that you would like to add to your map

Default value: `undef`

##### `content`

Data type: `Optional[String]`

Use this content, without validation, ignoring all other options

Default value: `undef`

### autofs::map::master

Add an entry to the ``/etc/auto.master`` map

If you're using the ``autofs::map::entry`` define, remember that the
``$target`` variable translates to '/etc/autofs/$target.map' which is what
you should enter for ``$map`` below.

* **See also**
auto.master(5)

#### Parameters

The following parameters are available in the `autofs::map::master` defined type.

##### `mount_point`

Data type: `Optional[Stdlib::Absolutepath]`

See auto.master(5) -> FORMAT -> mount-point

* Required unless ``$content`` is set

Default value: `undef`

##### `map_name`

Data type: `Optional[String]`

See auto.master(5) -> FORMAT -> map

* Required unless ``$content`` is set
* $map_type[file|program]      => Absolute Path
* $map_type[yp|nisplus|hesiod] => String
* $map_type[ldap|ldaps]        => LDAP DN

Default value: `undef`

##### `map_type`

Data type: `Optional[Autofs::Maptype]`

See auto.master(5) -> FORMAT -> map-type

Default value: `undef`

##### `map_format`

Data type: `Optional[Enum['sun','hesiod']]`

See auto.master(5) -> FORMAT -> format

Default value: `undef`

##### `options`

Data type: `Optional[String]`

See auto.master(5) -> FORMAT -> options

Default value: `undef`

##### `content`

Data type: `Optional[String]`

Ignore all other parameters and use this content without validation

Default value: `undef`

## Data types

### Autofs::Authtype

The Autofs::Authtype data type.

Alias of `Enum['GSSAPI', 'LOGIN', 'PLAIN', 'ANONYMOUS', 'DIGEST-MD5', 'EXTERNAL']`

### Autofs::Maptype

The Autofs::Maptype data type.

Alias of `Enum['file', 'program', 'yp', 'nisplus', 'hesiod', 'ldap', 'ldaps', 'multi']`

